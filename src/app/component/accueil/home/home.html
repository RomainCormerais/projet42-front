<div class="home">
  <!-- Section hero -->
  <section class="hero d-flex align-items-center text-center">
    <div class="container text-white">
      <h1 class="display-4 fw-bold mb-3">
        Bienvenue sur <span class="text-info">Le Coin des Pions</span>
      </h1>

      <p class="lead mb-3">Tu viens pour un jeu. Tu repars avec quatre. C’est normal.</p>

      <p class="fst-italic mb-2">
        Nous avons des jeux pour tous les goûts. Même pour ceux qui disent : “Non mais moi j’aime
        pas trop jouer.”
      </p>
      <p class="fst-italic mb-4">(Spoiler : ils finissent par acheter aussi.)</p>

      <div class="d-flex justify-content-center gap-3">
        <a routerLink="/catalogue" class="btn btn-info btn-lg px-4">Explorer les jeux</a>

        @if (!isLogged) {
        <a routerLink="/auth/register" class="btn btn-outline-light btn-lg px-4">
          Créer un compte
        </a>
        } @else {
        <a routerLink="/profil" class="btn btn-outline-light btn-lg px-4"> Mon espace </a>
        }
      </div>
    </div>
  </section>

  <!-- Les categories -->
  <section class="container py-5">
    <h2 class="fw-bold mb-4 text-center">Parcours les univers</h2>

    <div class="row g-4">
      <div class="col-md-3">
        <div class="category-card p-4 rounded shadow-sm text-center">
          <i class="fa-solid fa-children display-6 text-info mb-3"></i>
          <h5 class="fw-bold">Jeux Famille</h5>
          <p class="text-muted">Pour des soirées où personne ne finit fâché.</p>
        </div>
      </div>

      <div class="col-md-3">
        <div class="category-card p-4 rounded shadow-sm text-center">
          <i class="fa-solid fa-chess-rook display-6 text-info mb-3"></i>
          <h5 class="fw-bold">Jeux Stratégie</h5>
          <p class="text-muted">Pour ceux qui calculent tout. Même l’emplacement du pion rouge.</p>
        </div>
      </div>

      <div class="col-md-3">
        <div class="category-card p-4 rounded shadow-sm text-center">
          <i class="fa-solid fa-face-grin-squint-tears display-6 text-info mb-3"></i>
          <h5 class="fw-bold">Jeux d'Ambiance</h5>
          <p class="text-muted">Fous rires garantis. Mauvaise foi aussi.</p>
        </div>
      </div>

      <div class="col-md-3">
        <div class="category-card p-4 rounded shadow-sm text-center">
          <i class="fa-solid fa-dice-d20 display-6 text-info mb-3"></i>
          <h5 class="fw-bold">Aventures & D20</h5>
          <p class="text-muted">Là où les quêtes sont épiques, et les jets catastrophiques.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Les jeux populaires -->
  <section class="container py-5">
    <h2 class="fw-bold mb-4 text-center">Les jeux les plus adoptés</h2>

    <div id="carouselJeux" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        @for (groupe of jeuxParSlide(); let i = $index; track i) {
        <div class="carousel-item" [class.active]="i === 0">
          <div class="row g-4 justify-content-center">
            @for (jeu of groupe; track jeu.id_jeu) {
            <div class="col-md-4">
              <div class="game-card p-3 shadow-sm rounded h-100">
                <img
                  class="img-fluid rounded mb-3"
                  [src]="'https://picsum.photos/400/250?random=' + jeu.id_jeu"
                  alt="{{ jeu.nom_jeu }}"
                />

                <h5 class="fw-bold">{{ jeu.nom_jeu }}</h5>

                <p class="text-muted">
                  {{ jeu.description_jeu || 'Un classique indémodable.' }}
                </p>

                <div class="d-flex justify-content-between">
                  <a [routerLink]="['/details', jeu.id_jeu]" class="btn btn-info">Voir</a>
                  <button class="btn" (click)="ajoutFavori(jeu)">
                    @if (estFavori(jeu.id_jeu!)) {
                    <i class="fa-solid fa-heart text-danger"></i>
                    } @else {
                    <i class="fa-regular fa-heart"></i>
                    }
                  </button>
                </div>
              </div>
            </div>
            }
          </div>
        </div>
        }
      </div>

      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselJeux"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Précédent</span>
      </button>

      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselJeux"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Suivant</span>
      </button>
    </div>
  </section>

  <!-- Les reco comme un vrai site -->
  <section class="container py-5">
    <h2 class="fw-bold mb-4 text-center">Ce qu’en disent les joueurs</h2>

    <div class="row g-4">
      <div class="col-md-4">
        <div class="review-card p-4 shadow-sm rounded h-100">
          <p class="fst-italic">
            “J’ai acheté un jeu. Puis deux. Puis dix. Je ne suis pas sûre que mon étagère survive,
            mais moi oui.”
          </p>
          <strong class="text-info">— Mélanie, stratège à temps partiel</strong>
        </div>
      </div>

      <div class="col-md-4">
        <div class="review-card p-4 shadow-sm rounded h-100">
          <p class="fst-italic">
            “Le service est top. Les jeux aussi. Mon porte-monnaie… un peu moins.”
          </p>
          <strong class="text-info">— Romain, joueur repenti</strong>
        </div>
      </div>

      <div class="col-md-4">
        <div class="review-card p-4 shadow-sm rounded h-100">
          <p class="fst-italic">
            “Enfin une boutique qui comprend l’urgence vitale de commander un 3e jeu de cartes 'au
            cas où'.”
          </p>
          <strong class="text-info">— Hélène, collectionneuse assumée</strong>
        </div>
      </div>
    </div>
  </section>
</div>
